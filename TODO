#####################
# feature requests
#####################

- when a booking was added manually and the same booking gets imported later, try to match it and mark it as "to be deleted" or something like that....

- mark a capitalsource as "show current balance in the navigation pane"
- then show the current calculated balance, or the imported one if there is one.
-- maybe it is better to make it a user seeting (i might want to see other sources then other group members)
-- how should it work in general
--- right now header is cached (1 hour) -> ok can be easly fixed -> disable cache
--- but then on every page the current balances have to be sent as well to display them in the header-pane....... heavy stuff


- when listing capitalsources, add an option to only show currently valid ones (drop down box with saving in DB)
- when listing contractpartners, add an option to only show currently valid ones (drop down box with saving in DB)


#####################
# lower prio TODOs
#####################

- show the last run time of lalaMoneyflowHBCI for each capitalsource (to see if an error occured)

- PHPUnit: start writing service tests
- PHPDoc: document the services, then the controller, then the DAOs, and maybe the BOs
- check.php: distinguish between client and server dependencies
- check if chache engine works (not just if it is installed, e.g. redis server is started up...)


#####################
# assorted
#####################

- update contractpartners set validtil='2014-12-31' where contractpartnerid in (select mcp_contractpartnerid from (select max(bookingdate) max_bookingdate,mcp_contractpartnerid from moneyflows where mcp_contractpartnerid in (select contractpartnerid from contractpartners where now() between validfrom and validtil) group by mcp_contractpartnerid) a where max_bookingdate < date_sub(now(), interval 600 day));