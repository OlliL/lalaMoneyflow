Thoughts
- encryption:
  - use an Authentication: header
  - get rid of the server-session-id
  - the content + parts of the URL are together with the user-password as secret key hashed
  - the server will now receive "Authentication: hash:username"
  - The server looks up username and the password, and will do the hashing too.
  - If both hashes (the one of the client and the one of the server) are the same, the access is legit.

- CallServerUtil -> AbstractHandler
  - define the "user" "moneyflow" "contractpartner" part of the url in the extending classes as protected final USECASE
  - the server and regular prefix is used only in the AbstractHandler
  - each method hands only the method specific part e.g. "showMoneyflowList" to the send method and an array of parameters
    .e.g: parent::json_get("showMoneyflowList", array('2014-01-01','2014-01-31'). "json_get" does now form the URL on its
    own









- do not check before deleting contractpartner or capitalsource or user if this is OK - let the DB raise an constraint violation and just catch this and tell the user.
- rename User(Service|Dao|Controller) to Access* -> Refactor AccessRelation/AccessFlattened/Access
- all BOs should get an Accessor object

further thoughts:
   - consider Conductor handling for showEdit*... -> edit* -> Error -> re-use the showEdit functionality
   - maybe extra Validator Classes with insert/update/delete relevant validations and not in the Service
   - centralize all cachenames

###########################################################################################################################

What is currently missing:

 - Posting Accounts cannot be listed, edited, deleted, added
 - PredefMoneyflows can not be assigned with default Posting Accounts

###########################################################################################################################

Bugs detected so far:
   - predefmoneyflows: edit moneyflow with out-of-daterange capitalsource - do not allow to save it!
   - when a new month start and after the login the settlement question is raised - the new window should open in the
     correct size (height = NUM_SOURCES * 35+something)
   - moneyflows for capitalsources which are not allowed for the user must not be possible (verify this with RESTClient,
     the Client does not allow it already)
   - MonthlySettlements - create for a far month in the future - check if the propper capitalsources are selected. All capitalsources
     which are valid with at least one day in this month have to be selected (valid only at the beginning, only at the end for example)
     check this.....
   - when reassigning a user from group a to group b ask:
      - also copy capitalsources?
   - no moneyflows must be createable before the current group assignment was valid
     (no moneyflows for the previous group after the group assignment changed)


New Installation
   - check that after the first logon, on a clean DB, the password has to be changed first
   - "No monthly settlement for the previous month exists. Do you want to create it now?" - it makes no sense without a capitalsource
   - assume for new capitalsources always "0" as the previous month settlement
   - Trend does not work - maybe because no settlement done yet?

- evaluate:
  - Redis / Predis
  - Doctrine + Serializer
  - PHPUnit
    -> PHP_CodeCoverage needed
    -> Xdebug needed (drops performance heavily)
    ---> not sure if OK

some far time in the future:

- 666. Redo the Webclient MVC like
- put the available countries into the db and have them selectable when handling contractual partners instead of 
  having it free editable
